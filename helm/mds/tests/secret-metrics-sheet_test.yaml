suite: test secret metric sheets
templates:
  - secret.yaml
tests:
  - it: all
    release:
      namespace: mds
    values:
      - ./secret-values-metrics-sheet.yaml
    asserts:
      - hasDocuments:
          count: 1
      - isAPIVersion:
          of: v1
      - isKind:
          of: Secret
      - equal:
          path: metadata.name
          value: metrics-sheet
      - equal:
          path: metadata.namespace
          value: mds
      - equal:
          path: type
          value: Opaque
      - equal:
          path: data.CLIENT_SECRET
          value: MWYyZDFlMmU2N2Rm
      - equal:
          path: data.GOOGLE_PRIVATE_KEY
          value: MWYyZDFlMmU2N2Rm
